{{- with .Page }}
  {{ $metadata := or (not .Date.IsZero) (not .Lastmod.IsZero) .Params.syndications .Params.tags }}
  {{ if or .Title $metadata }}
  <header>
    {{ if .Title }}
      {{- if $.Listing }}
        <h2 class='p-name'>
          <a href="{{ .RelPermalink }}" title="{{ .Title }}" class="nl">{{- .Title -}}</a>
        </h2>
      {{- else }}
        <h1 class='p-name'>{{- .Title -}}</h1>
      {{- end }}
    {{ end }}

    {{ if $metadata }}
    <p>
      <a href="{{ relURL .Permalink }}" class="u-url nl">
        {{- if .Lastmod.After .Date -}}
          <time class='dt-updated' datetime='{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}'>
            Updated on {{ .Lastmod.Format "2006-02-06" }}
          </time>
        {{ end }}
        {{- if not .Date.IsZero -}}
          <time {{ if .Lastmod.After .Date}}hidden {{ end }}class='dt-published' datetime='{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}'>
            Published on {{ .Date.Format "2006-01-02" }}
          </time>
        {{- end -}}
      </a>

      {{ range .Params.tags -}}
        <a class="tag" href="{{ ($.Page.Site.GetPage (printf "/tags/%s" .)).RelPermalink }}">#{{ . }}</a>
      {{ end -}}

      {{ range .Params.syndications }}
        <a class='nl u-syndication' rel="noopener noreferrer" href="{{ . }}">
          {{ $domain := (urls.Parse .).Host }}
          {{- if strings.Contains $domain "twitter.com" }}🐦
          {{- else if strings.Contains $domain "instagram.com" }}📷
          {{ else }}🔗{{ end -}}
        </a>
      {{ end }}
    </p>
    {{ end }}
  </header>
  {{ end }}
{{- end }}
